<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>生命周期-新</title>
    <style>
      .list {
        width: 200px;
        height: 150px;
        background-color: skyblue;
        overflow: auto;
      }
      .news {
        height: 30px;
      }
    </style>
  </head>
  <body>
    <!-- 准备好一个容器 -->
    <div id="test"></div>

    <!-- 引入 react 核心库 -->
    <script type="text/javascript" src="../js/react.development.js"></script>

    <!-- 引入 react-dom 库，用于支持 react 操作 DOM -->
    <script
      type="text/javascript"
      src="../js/react-dom.development.js"
    ></script>

    <!-- 引入 babel，用于将 jsx 转为 js -->
    <script type="text/javascript" src="../js/babel.min.js"></script>

    <!-- 引入 prop-types，用于对组件标签属性进行限制 -->
    <script type="text/javascript" src="../js/prop-types.js"></script>

    <script type="text/babel">
      class Time extends React.Component {
        state = { date: new Date() };

        componentDidMount() {
          // 每隔 1 秒更新一下状态
          setInterval(() => {
            this.setState({ date: new Date() });
          }, 1000);
        }

        // render 调用的时机：初始化渲染、状态更新之后
        render() {
          console.log("NewsList-render");
          /*
            Diffing 算法会逐层对比，
            对比最小粒度是标签，
            下边 span 标签中的 input 标签不会每次重新生成
          */
          return (
            <div>
              <h1>hello</h1>
              <input type="text" />
              <span>
                现在是：{this.state.date.toTimeString()}
                <input type="text" />
              </span>
            </div>
          );
        }
      }
      ReactDOM.render(<Time />, document.getElementById("test"));
    </script>
  </body>
</html>
